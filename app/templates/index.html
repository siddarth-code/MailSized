<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S5S8LF8NDE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-S5S8LF8NDE');
  </script>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta http-equiv="Cache-Control" content="no-store"/>
  <title>MailSized – Send Large Videos via Email</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="/static/style.css"/>

  {{ adsense_tag|safe }}
</head>

<!-- Keep data-paid / data-job-id so the page can resume after Stripe -->
<body id="pageRoot" data-paid="{{ '1' if paid else '0' }}" data-job-id="{{ job_id }}">
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon"><i class="fas fa-video"></i></div>
        <h1>MailSized</h1>
      </div>
      <h2>Compress large videos to fit email attachments</h2>
      <div style="display:flex;justify-content:center;gap:15px;margin-top:10px;">
        <div class="constraint"><i class="fas fa-file"></i><span>≤2GB files</span></div>
        <div class="constraint"><i class="fas fa-clock"></i><span>≤20 min videos</span></div>
      </div>
      <!-- Top Navigation -->
      <nav class="top-nav" aria-label="Main">
          <a href="/" class="top-nav-link">Home</a>
          <span class="sep">|</span>
          <a href="/how-it-works" class="top-nav-link">How it Works</a>
          <span class="sep">|</span>
          <a href="/blogs" class="top-nav-link">Blogs</a>
          <span class="sep">|</span>
          <a href="/privacy" class="top-nav-link">Privacy</a>
          <span class="sep">|</span>
          <a href="/contact" class="top-nav-link">Contact Us</a>
      </nav>
      
    </header>

    <div class="card-container">
      <div class="main-card">
        <!-- Steps -->
        <div class="steps">
          <div id="step1" class="step active">1. Upload</div>
          <div id="step2" class="step">2. Payment</div>
          <div id="step3" class="step">3. Compression</div>
          <div id="step4" class="step">4. Download</div>
        </div>

        <!-- Content -->
        <div class="step-content">
          <h2 class="step-title"><i class="fas fa-cloud-upload-alt"></i> 1. Upload Your Video</h2>

          <!-- Upload area -->
          <div class="upload-area" id="uploadArea" tabindex="0">
            <div class="upload-icon"><i class="fas fa-cloud-upload-alt"></i></div>
            <h3>Click to browse or drag &amp; drop your video</h3>
            <p>Max file size: 2GB</p>
            <p>Supported formats: MP4, MOV, AVI, MKV</p>
            <input type="file" id="fileInput" accept="video/*" style="display:none;">
          </div>

          <!-- Upload progress (matches style.css classes + JS IDs) -->
          <div class="progress-container" id="uploadProgress" style="display:none; margin-top:12px;">
            <div class="progress-fill" id="uploadFill" style="width:0%;"></div>
            <div class="progress-pct" id="uploadPct">0%</div>
          </div>
          <div class="progress-note" id="uploadNote" style="display:none;">Uploading…</div>

          <!-- Selected file details -->
          <div class="file-info" id="fileInfo" style="display:none;">
            <div class="file-icon"><i class="fas fa-file-video"></i></div>
            <div class="file-details">
              <div class="file-name" id="fileName"></div>
              <div class="file-meta">
                <span id="fileSize"></span>
                <span id="fileDuration"></span>
              </div>
            </div>
            <button class="remove-file" id="removeFile" type="button"><i class="fas fa-times"></i></button>
          </div>

          <h2 class="step-title"><i class="fas fa-envelope"></i> 2. Select Email Provider</h2>
          <div class="providers" id="providerList">
            <button class="provider-card gmail selected" data-provider="gmail" type="button">
              <div class="provider-icon"><i class="fab fa-google"></i></div>
              <div class="provider-name">Gmail</div>
              <div class="provider-details">
                <div>Max attachment: 25MB</div>
                <div class="provider-price">Targets ≤25MB</div>
              </div>
            </button>

            <button class="provider-card outlook" data-provider="outlook" type="button">
              <div class="provider-icon"><i class="fab fa-microsoft"></i></div>
              <div class="provider-name">Outlook</div>
              <div class="provider-details">
                <div>Max attachment: 20MB</div>
                <div class="provider-price">Targets ≤20MB</div>
              </div>
            </button>

            <button class="provider-card other" data-provider="other" type="button">
              <div class="provider-icon"><i class="fas fa-envelope"></i></div>
              <div class="provider-name">Other</div>
              <div class="provider-details">
                <div>Max attachment: 15MB</div>
                <div class="provider-price">Targets ≤15MB</div>
              </div>
            </button>
          </div>

          <h2 class="step-title"><i class="fas fa-star"></i> 3. Add Extras</h2>
          <div class="extras">
            <label class="extra-option">
              <input type="checkbox" id="priority">
              <span class="extra-label">Priority Processing</span>
              <span class="extra-price">+ $0.75</span>
            </label>
            <label class="extra-option">
              <input type="checkbox" id="transcript">
              <span class="extra-label">Video Transcript</span>
              <span class="extra-price">+ $1.50</span>
            </label>
          </div>

          <div class="email-input">
            <label for="userEmail">Email for download link (required):</label>
            <input type="email" id="userEmail" placeholder="you@example.com" required>
          </div>

          <div class="payment-agreement">
            <label>
              <input type="checkbox" id="agree">
              I agree to the <a href="/terms" class="terms-link" target="_blank" rel="noopener">Terms &amp; Conditions</a> (service is non‑refundable)
            </label>
          </div>

          <div class="error-container" id="errorContainer" style="display:none;">
            <div class="error-title">
              <i class="fas fa-exclamation-circle"></i><span>Error</span>
            </div>
            <div id="errorMessage"></div>
          </div>

          <button class="action-button" id="processButton" type="button">
            <i class="fas fa-credit-card"></i> Pay &amp; Compress
          </button>

          <!-- Post-payment: progress + download -->
          <div id="postPaySection" style="display:none; margin-top:16px;">
            <div class="progress-container">
              <div class="progress-fill" id="progressFill" style="width:0%;"></div>
              <div class="progress-pct" id="progressPct">0%</div>
            </div>
            <div class="progress-note" id="progressNote">Working…</div>

            <div id="downloadSection" style="display:none; margin-top:14px;">
              <a id="downloadLink" class="action-button" href="#" download>
                <i class="fas fa-download"></i> Download Compressed Video
              </a>
              <p id="emailNote" style="display:none; margin-top:8px; font-size:0.9rem; color:#4a5568;">
                We’ve also emailed your file. Link expires in ~24 hours.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right card: Pricing (display only; JS updates the summary figures) -->
      <div class="info-card">
        <h2><i class="fas fa-receipt"></i> Pricing Details</h2>
        <div class="pricing-table-wrapper">
          <table class="pricing-table">
            <thead>
              <tr>
                <th>File size</th>
                <th>Gmail</th>
                <th>Outlook</th>
                <th>Other</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>0–500 MB</td>
                <td>$1.99</td>
                <td>$2.19</td>
                <td>$2.49</td>
              </tr>
              <tr>
                <td>501 MB–1 GB</td>
                <td>$2.99</td>
                <td>$3.29</td>
                <td>$3.99</td>
              </tr>
              <tr>
                <td>1.01–2 GB</td>
                <td>$4.49</td>
                <td>$4.99</td>
                <td>$5.49</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Summary numbers used by JS -->
        <div class="price-summary">
          <div class="price-item">
            <span>Base compression:</span>
            <span id="basePrice">$1.99</span>
          </div>
          <div class="price-item">
            <span>Priority Processing:</span>
            <span id="priorityPrice">$0.00</span>
          </div>
          <div class="price-item">
            <span>Transcript:</span>
            <span id="transcriptPrice">$0.00</span>
          </div>
          <div class="price-item">
            <span>Estimated tax (10%):</span>
            <span id="taxAmount">$0.00</span>
          </div>
          <div class="price-total">
            <span>Total:</span>
            <span id="totalAmount">$1.99</span>
          </div>
        </div>

        <div id="ad-slot-sidebar" class="ad-slot" data-ad-slot="sidebar-300x250">
          <div class="ad-placeholder">Sponsored • placeholder</div>
        </div>
      </div>
    </div>
  </div>

  <!-- version bump so browsers pull the new JS -->
  <script defer src="/static/script.js?v=2025-08-14-7"></script>
  <script>
    if (window.adsbygoogle) {
      const slots=[{id:'ad-slot-sidebar',slot:'sidebar-300x250'}];
      slots.forEach(s=>{
        const el=document.getElementById(s.id); if(!el) return;
        const ins=document.createElement('ins');
        ins.className='adsbygoogle'; ins.style.display='block';
        ins.setAttribute('data-ad-client','{{ adsense_client_id }}');
        ins.setAttribute('data-ad-slot',s.slot);
        ins.setAttribute('data-full-width-responsive','true');
        el.innerHTML=''; el.appendChild(ins);
        (adsbygoogle=window.adsbygoogle||[]).push({});
      });
    }
  </script>
</body>
</html>
